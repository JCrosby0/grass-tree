import{p as e,a as o,r as t,c as n,w as r,o as a,b as l,d as s,F as i,e as d,u as p,f as u,g as c,t as m,h as y,i as g,v as h,j as f,k as w}from"./vendor.76f275d8.js";!function(e=".",o="__import__"){try{self[o]=new Function("u","return import(u)")}catch(t){const n=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[o]=e=>new Promise(((t,a)=>{const l=new URL(e,n);if(self[o].moduleMap[l])return t(self[o].moduleMap[l]);const s=new Blob([`import * as m from '${l}';`,`${o}.moduleMap['${l}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){a(new Error(`Failed to import: ${e}`)),r(i)},onload(){t(self[o].moduleMap[l]),r(i)}});document.head.appendChild(i)})),self[o].moduleMap={}}}("/grass-tree/assets/");const k=u("data-v-31b6dfbe");e("data-v-31b6dfbe");const x={class:"page"},T=s("h2",null,"Grass Tree Builder",-1),M=s("p",null,[c("Here's a web app to build a grass tree in scalable vector graphics (SVG). Change the inputs to build the tree trunk and spike, and then click the button to generate the fronds and flower. "),s("br"),c(" Warning: some inputs (marked with *) may cause strange behaviour, refresh page if things go wrong.")],-1),F={class:"container"},I={class:"controls"},S=s("h6",null,"Dimensions",-1),b={key:0,style:{"{color":"red}"}},$=s("br",null,null,-1),v={class:"color"},R=s("h6",null,"Color Theme",-1),B=s("br",null,null,-1),O={class:"display"},A=s("defs",null,[s("linearGradient",{id:"frondColorUpper",gradientTransform:"rotate(90)"},[s("stop",{offset:"5%","stop-color":"darkgreen"}),s("stop",{offset:"95%","stop-color":"green"})]),s("linearGradient",{id:"frondColorLower",gradientTransform:"rotate(90)"},[s("stop",{offset:"5%","stop-color":"green"}),s("stop",{offset:"95%","stop-color":"yellowgreen"})]),s("linearGradient",{id:"trunkColor",gradientTransform:"rotate(0)",x1:"3%",y1:"4%",x2:"3%",y2:"8%",spreadMethod:"repeat"},[s("stop",{offset:"20%","stop-color":"grey"}),s("stop",{offset:"50%","stop-color":"black"})])],-1),H=s("p",{class:"copy"},"Developed by Joe Crosby, Â© 2021",-1);o();const L={expose:[],props:{msg:String},setup(e){const o=[{name:"Full Colour",value:"default"},{name:"White Silhouette",value:"white"},{name:"Black Silhouette",value:"black"}],u=["noFronds"],w=t({count:0,selectedStyle:"default"}),L=t({width:500,height:500,marginBottom:50,noFronds:300,trunkSwayMid:-10,trunkSwayTop:1,trunkHeight:150,spikeSwayMid:-15,spikeSwayTop:-5,spikeHeight:250,frondDroop:20,showGuideCircles:0,flowerStart:.5,flowerStop:.9,frondRandom:20}),C=t({xInner:Array(L.noFronds).fill(250),yInner:Array(L.noFronds).fill(250),xMid:Array(L.noFronds).fill(250),yMid:Array(L.noFronds).fill(250),xOuter:Array(L.noFronds).fill(250),yOuter:Array(L.noFronds).fill(250),xMidRandom:Array(L.noFronds).fill(0),yMidRandom:Array(L.noFronds).fill(0),xOuterRandom:Array(L.noFronds).fill(0),yOuterRandom:Array(L.noFronds).fill(0)}),U=t({xFlowerTop:242,yFlowerTop:70,xFlowerMid:246,yFlowerMid:100,xFlowerBot:245,yFlowerBot:160}),E=n((()=>({xMid:L.width/2,yMid:L.height/2,trunkMid:parseFloat(L.trunkHeight/2),xTrunkMid:parseFloat(L.width/2-parseInt(L.trunkSwayMid)),yTrunkMid:parseFloat(L.height-parseInt(L.marginBottom)-parseInt(L.trunkHeight)/2),xTrunkTop:parseFloat(L.width/2+parseInt(L.trunkSwayTop)),yTrunkTop:parseFloat(L.height-parseInt(L.marginBottom)-parseInt(L.trunkHeight)),spikeMid:L.spikeHeight/2,xSpikeMid:parseFloat(L.width/2+parseInt(L.trunkSwayTop)+parseInt(L.spikeSwayMid)),ySpikeMid:parseFloat(L.height-parseInt(L.marginBottom)-parseInt(L.trunkHeight)-parseInt(L.spikeHeight)/2),xSpikeTop:parseFloat(L.width/2+parseInt(L.trunkSwayTop)+parseInt(L.spikeSwayTop)),ySpikeTop:parseFloat(L.height-parseInt(L.marginBottom)-parseInt(L.trunkHeight)-parseInt(L.spikeHeight))})));function G(e="spike",o=parseFloat(L.flowerStart),t=parseFloat(L.flowerStop)){console.log("logging time for generating flower"),console.time("flower");const n=document.getElementById(e),r=n.getTotalLength(),a=n.getPointAtLength(o*r),l=n.getPointAtLength(parseFloat((o+t)/2)*r),s=n.getPointAtLength(t*r);U.xFlowerTop=a.x,U.xFlowerMid=l.x,U.xFlowerBot=s.x,U.yFlowerTop=a.y,U.yFlowerMid=l.y,U.yFlowerBot=s.y,console.timeEnd("flower")}function j(e){const o=L.noFronds;return parseInt(e)<=parseInt(1*o/8)?"mid":parseInt(e)<=parseInt(3*o/8)?"lower":parseInt(e)<=parseInt(5*o/8)?"mid":parseInt(e)<=parseInt(7*o/8)?"upper":"mid"}function V(){console.log("logging time for generating fronds"),console.time("fronds");["inner","mid","outer"].forEach((e=>{console.log("element: ",e),function(e,o=L.noFronds){console.log("someElementId: ",e);const t=document.getElementById(e),n=t.getTotalLength()/o;Array(o).fill({}).forEach(((o,r)=>{const a=t.getPointAtLength(r*n);switch(e){case"inner":C.xInner[r]=a.x,C.yInner[r]=a.y;break;case"mid":C.xMid[r]=a.x+C.xMidRandom[r],C.yMid[r]=a.y+C.yMidRandom[r];break;case"outer":C.xOuter[r]=a.x+C.xOuterRandom[r],C.yOuter[r]=a.y+C.yOuterRandom[r]}}))}(e)})),console.timeEnd("fronds")}function _(){C.xMidRandom=C.xMidRandom.map((e=>(Math.random()-.5)*parseInt(L.frondRandom))),C.yMidRandom=C.yMidRandom.map((e=>(Math.random()-.5)*parseInt(L.frondRandom))),C.xOuterRandom=C.xOuterRandom.map((e=>(Math.random()-.5)*parseInt(L.frondRandom))),C.yOuterRandom=C.yOuterRandom.map((e=>(Math.random()-.5)*parseInt(L.frondRandom))),setTimeout(V,1)}return r((()=>{console.log("randomise",L.frondRandom),_()})),r((()=>{console.log("watch test",L.trunkSwayTop,L.frondDroop,L.marginBottom,L.trunkHeight),setTimeout(V,1)})),r((()=>{console.log("watch test for flower: ",L.trunkSwayTop,L.trunkHeight,L.spikeSwayMid,L.spikeSwayTop,L.spikeHeight,L.flowerStart,L.flowerStop),setTimeout(G,1)})),k(((e,t)=>(a(),l("div",x,[T,M,s("div",F,[s("div",I,[S,(a(!0),l(i,null,d(Object.keys(L),(e=>(a(),l("div",{key:e,class:"item"},[s("p",null,[c(m(e),1),u.includes(e)?(a(),l("span",b,"*")):y("",!0),g(s("input",{"onUpdate:modelValue":o=>L[e]=o,type:"number"},null,8,["onUpdate:modelValue"]),[[h,L[e]]])])])))),128)),s("button",{onClick:V},"Generate Fronds & Flower"),s("button",{onClick:_},"Randomise Fronds"),$]),s("div",v,[R,(a(),l(i,null,d(o,(e=>s("div",{class:"radio",key:e},[g(s("input",{type:"radio",id:e.value,name:"color",value:e.value,"onUpdate:modelValue":t[1]||(t[1]=e=>w.selectedStyle=e)},null,8,["id","value"]),[[f,w.selectedStyle]]),s("label",{for:e.value},m(e.name),9,["for"]),B]))),64))]),s("div",O,[(a(),l("svg",{class:w.selectedStyle,xmlns:"http://www.w3.org/2000/svg",width:`${L.width}px`,height:`${L.height}px`,viewbox:"0 0 200px 200px"},[A,s("g",null,[s("path",{class:["trunk",w.selectedStyle],d:`\n      M ${p(E).xMid} ${L.height-L.marginBottom} \n      Q ${p(E).xTrunkMid} ${p(E).yTrunkMid}\n      ${p(E).xTrunkTop} ${p(E).yTrunkTop}`},null,10,["d"])]),s("g",null,[s("path",{id:"spike",class:w.selectedStyle,d:`M ${p(E).xTrunkTop} ${p(E).yTrunkTop} \n        Q ${p(E).xSpikeMid} ${p(E).ySpikeMid} \n        ${p(E).xSpikeTop} ${p(E).ySpikeTop}`},null,10,["d"]),s("path",{class:["flower",w.selectedStyle],d:`M ${U.xFlowerBot} ${U.yFlowerBot} \n        Q ${U.xFlowerMid} ${U.yFlowerMid} \n        ${U.xFlowerTop} ${U.yFlowerTop}`},null,10,["d"])]),s("g",null,[(a(!0),l(i,null,d(C.xInner,((e,o)=>(a(),l("path",{key:"point"+o,class:["fronds",j(o),w.selectedStyle],d:`M ${C.xInner[o]} ${C.yInner[o]}\n        Q ${C.xMid[o]} ${C.yMid[o]}\n        ${C.xOuter[o]} ${C.yOuter[o]}`},null,10,["d"])))),128))]),s("g",null,[s("ellipse",{id:"inner",class:"ellipse inner",style:`{stroke: ${L.showGuideCircles?"1px red":"0"}}`,cx:p(E).xTrunkTop,cy:p(E).yTrunkTop,rx:"1",ry:"1"},null,12,["cx","cy"]),s("ellipse",{id:"mid",class:"ellipse mid",cx:p(E).xTrunkTop,cy:p(E).yTrunkTop,rx:"60",ry:"60"},null,8,["cx","cy"]),s("ellipse",{id:"outer",class:"ellipse outer",cx:p(E).xTrunkTop,cy:p(E).yTrunkTop+parseInt(L.frondDroop),rx:"100",ry:"100"},null,8,["cx","cy"])])],10,["width","height"]))])]),H]))))},__scopeId:"data-v-31b6dfbe"};w({expose:[],setup:e=>(e,o)=>(a(),l(L,{msg:"Hello Vue 3 + Vite"}))}).mount("#app");
